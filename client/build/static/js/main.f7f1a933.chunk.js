(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(82)},53:function(e,t,a){},54:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=(a(53),a(54),a(28)),u=a(10),i=a(5),m=a(16),s=a(84),E=a(89),d=a(90),f=function(){return r.a.createElement("header",null,r.a.createElement(E.a,{bg:"primary",expand:"lg",collapseOnSelect:!0},r.a.createElement(s.a,null,r.a.createElement(E.a.Brand,{href:"/"},"Trash to Treasure"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"ml-auto"},r.a.createElement(d.a.Link,{href:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),"Cart"),r.a.createElement(d.a.Link,{href:"/login"},r.a.createElement("i",{className:"fas fa-user"}),"Sign In"))))))},p=a(85),h=a(86),g=function(){return r.a.createElement("footer",null,r.a.createElement(s.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{className:"text-center py-3"},"Copyright \xa9 Trash to Treasure"))))},v=a(14),b=a.n(v);var w=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),s=m[0],E=m[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],h=f[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),w=v[0],O=v[1],j=Object(n.useState)(null),k=Object(u.a)(j,2),I=k[0],S=k[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("input",{placeholder:"username",onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{placeholder:"password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("button",{onClick:function(){b()({method:"post",url:"/register",data:{username:l,password:s},withCredentials:!0}).then(function(e){return console.log(e)})}},"Submit")),r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("input",{placeholder:"username",onChange:function(e){return h(e.target.value)}}),r.a.createElement("input",{placeholder:"password",onChange:function(e){return O(e.target.value)}}),r.a.createElement("button",{onClick:function(){b()({method:"post",url:"/login",data:{username:p,password:w},withCredentials:!0}).then(function(t){console.log(t),e.setUser(Object(o.a)({},t.data.user,{loggedIn:!0}))})}},"Submit")),r.a.createElement("div",null,r.a.createElement("h1",null,"Get User"),r.a.createElement("button",{onClick:function(){b()({method:"get",url:"/user",withCredentials:!0}).then(function(e){return S(e.data)})}},"Submit"),I?r.a.createElement("h1",null,"Welcome Back ",I.username):null))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Profile"))},j=a(20),k=a.n(j),I=a(26),S=a(91),C=function(e){var t=e.product;return r.a.createElement(S.a,{className:"my-3 p-3 rounded"},r.a.createElement(m.b,{to:"/product/".concat(t._id)},r.a.createElement(S.a.Img,{src:t.image,variant:"top"})),r.a.createElement(S.a.Body,null,r.a.createElement(m.b,{to:"/product/".concat(t._id)},r.a.createElement(S.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(S.a.Text,{as:"div"}),r.a.createElement(S.a.Text,{as:"h3"},"$",t.price)))},y=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(I.a)(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/products");case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Latest Products"),r.a.createElement(p.a,null,a.map(function(e){return r.a.createElement(h.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(C,{product:e}))})))},x=a(87),N=a(92),T=a(88),B=function(e){var t=e.match,a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)(function(){!function(){var e=Object(I.a)(k.a.mark(function e(){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/products/".concat(t.params.id));case 2:a=e.sent,n=a.data,o(n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{className:"btn btn-light my-3",to:"/"},"Go Back"),r.a.createElement(p.a,null,r.a.createElement(h.a,{md:6},r.a.createElement(x.a,{src:c.image,alt:c.name,fluid:!0})),r.a.createElement(h.a,{md:3},r.a.createElement(N.a,{variant:"flush"},r.a.createElement(N.a.Item,null,r.a.createElement("h3",null,c.name)),r.a.createElement(N.a.Item,null),r.a.createElement(N.a.Item,null,"Price: $",c.price),r.a.createElement(N.a.Item,null,"Description: ",c.description))),r.a.createElement(h.a,{md:3},r.a.createElement(S.a,null,r.a.createElement(N.a,{variant:"flush"},r.a.createElement(N.a.Item,null,r.a.createElement(p.a,null,r.a.createElement(h.a,null,"Price:"),r.a.createElement(h.a,null,r.a.createElement("strong",null,"$",c.price)))),r.a.createElement(N.a.Item,null,r.a.createElement(p.a,null,r.a.createElement(h.a,null,"Status:"),r.a.createElement(h.a,null,c.countInStock>0?"In Stock":"Out Of Stock"))),r.a.createElement(N.a.Item,null,r.a.createElement(T.a,{className:"btn-block",type:"button",disabled:0===c.countInStock},"Add To Cart")),r.a.createElement(N.a.Item,null,r.a.createElement(h.a,null,r.a.createElement("h3",null,"Contact"))),r.a.createElement(N.a.Item,null,r.a.createElement(h.a,null,"Name:"),r.a.createElement(h.a,null,c.contact_name)),r.a.createElement(N.a.Item,null,r.a.createElement(h.a,null,"Email:"),r.a.createElement(h.a,null,c.contact_email)),r.a.createElement(N.a.Item,null,r.a.createElement(h.a,null,"Phone:"),r.a.createElement(h.a,null,c.contact_phone)))))))},L=function(){var e=Object(n.useState)({loggedIn:!1}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){b()({method:"get",url:"/user"}).then(function(e){l(Object(o.a)({},e.data,{loggedIn:!0}))})},[i.a]),r.a.createElement(m.a,null,r.a.createElement(f,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(s.a,null,r.a.createElement(i.a,{path:["/","/home"],component:function(){return a.loggedIn?r.a.createElement(y,null):r.a.createElement(w,{setUser:l})},exact:!0}),r.a.createElement(i.a,{path:["/profile"],component:function(){return a.loggedIn?r.a.createElement(O,null):r.a.createElement(w,{setUser:l})},exact:!0}),r.a.createElement(i.a,{path:["/product/:id"],component:function(e){return a.loggedIn?r.a.createElement(B,e):r.a.createElement(w,{setUser:l})}}))),r.a.createElement(g,null))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(L,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");U?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):_(e)})}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.f7f1a933.chunk.js.map